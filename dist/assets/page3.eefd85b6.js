import"./modulepreload-polyfill.b7f2da20.js";/* empty css              */import*as o from"pixi.js";const i=document.querySelector("video"),c=document.querySelector("canvas"),m={video:{width:i.clientWidth,height:i.clientHeight},audio:!1},d=async e=>{try{return await navigator.mediaDevices.getUserMedia(e)}catch{alert("\u30C7\u30D0\u30A4\u30B9\u3092\u53D6\u5F97\u3067\u304D\u307E\u305B\u3093\u3067\u3057\u305F")}},p=async()=>{try{return await navigator.mediaDevices.enumerateDevices()}catch{return[]}},u=async()=>{const n=(await p()).filter(t=>t.kind==="videoinput"),l=(t,a)=>`<label><input name="camera" type="radio" value=${t.toString()} />${a.toString()}</label><br />`,s=document.querySelector(".input_wrapper"),v=n.reduce((t,a)=>t+l(a.deviceId,a.label),"");s.innerHTML=v,s.querySelectorAll("input").forEach(t=>{t.addEventListener("change",a=>{h(a.target.value)})})},h=async e=>{const n=await d({video:{width:i.clientWidth,height:i.clientHeight,deviceId:e}});i.srcObject=await n},g=new o.Application({view:c}),r=o.Sprite.from(i);r.width=c.width;r.height=c.height;g.stage.addChild(r);document.addEventListener("DOMContentLoaded",async()=>{const e=await d(m);i.srcObject=await e,await u()});
