import"./modulepreload-polyfill.b7f2da20.js";/* empty css              */import{A as u,S as p,f as s,W as v}from"./vendor.c9f77dec.js";const a=document.querySelector("video"),l=document.querySelector("canvas"),h={video:{width:a.clientWidth,height:a.clientHeight},audio:!1},m=async e=>{try{return await navigator.mediaDevices.getUserMedia(e)}catch{alert("\u30C7\u30D0\u30A4\u30B9\u3092\u53D6\u5F97\u3067\u304D\u307E\u305B\u3093\u3067\u3057\u305F")}},g=async()=>{try{return await navigator.mediaDevices.enumerateDevices()}catch{return[]}},w=async()=>{const t=(await g()).filter(i=>i.kind==="videoinput"),r=(i,n)=>`<label><input name="camera" type="radio" value=${i.toString()} />${n.toString()}</label><br />`,c=document.querySelector(".input_wrapper"),o=t.reduce((i,n)=>i+r(n.deviceId,n.label),"");c.innerHTML=o,c.querySelectorAll("input").forEach(i=>{i.addEventListener("change",n=>{y(n.target.value)})})},y=async e=>{const t=await m({video:{width:a.clientWidth,height:a.clientHeight,deviceId:e}});a.srcObject=await t};let d;const f=()=>{d=new u({view:l});const e=p.from(a);e.width=l.width,e.height=l.height,d.stage.addChild(e)},S=()=>{const e=new s.NoiseFilter(.5,.2),t=new s.ColorMatrixFilter;t.greyscale(.2);const r=p.from("../assets/noise.png");r.texture.baseTexture.wrapMode=v.REPEAT;const c=new s.DisplacementFilter(r),o=new s.BlurFilter(4);d.stage.filters=[t,c,o,e]};document.addEventListener("DOMContentLoaded",async()=>{const e=await m(h);a.srcObject=await e,await w(),f(),S()});
