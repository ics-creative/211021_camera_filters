import"./modulepreload-polyfill.b7f2da20.js";/* empty css              */import{A as m,S as p,O as u,G as v}from"./vendor.c9f77dec.js";const t=document.querySelector("video"),s=document.querySelector("canvas"),h={video:{width:t.clientWidth,height:t.clientHeight},audio:!1},d=async e=>{try{return await navigator.mediaDevices.getUserMedia(e)}catch{alert("\u30C7\u30D0\u30A4\u30B9\u3092\u53D6\u5F97\u3067\u304D\u307E\u305B\u3093\u3067\u3057\u305F")}},g=async()=>{try{return await navigator.mediaDevices.enumerateDevices()}catch{return[]}},y=async()=>{const a=(await g()).filter(i=>i.kind==="videoinput"),r=(i,n)=>`<label><input name="camera" type="radio" value=${i.toString()} />${n.toString()}</label><br />`,c=document.querySelector(".input_wrapper"),l=a.reduce((i,n)=>i+r(n.deviceId,n.label),"");c.innerHTML=l,c.querySelectorAll("input").forEach(i=>{i.addEventListener("change",n=>{w(n.target.value)})})},w=async e=>{const a=await d({video:{width:t.clientWidth,height:t.clientHeight,deviceId:e}});t.srcObject=await a};let o;const S=()=>{o=new m({view:s});const e=p.from(t);e.width=s.width,e.height=s.height,o.stage.addChild(e),f()},f=()=>{const e=new u,a=()=>{e.seed=Math.random(),requestAnimationFrame(a)};a();const r=new v,c=()=>{r.time+=.01,requestAnimationFrame(c)};c(),o.stage.filters=[r]};document.addEventListener("DOMContentLoaded",async()=>{const e=await d(h);t.srcObject=await e,await y(),await t.play(),S()});
